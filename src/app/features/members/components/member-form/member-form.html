<div class="form-container" [@fadeIn]>
  <mat-card>
    <mat-card-header>
      <mat-card-title>{{ isEditMode ? 'Edit Member' : 'New Member' }}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        
        <!-- Name -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Full Name</mat-label>
          <input matInput formControlName="name" placeholder="Ex. John Doe">
          <mat-error *ngIf="form.get('name')?.hasError('required')">Name is required</mat-error>
        </mat-form-field>

        <!-- Address -->
        <mat-form-field appearance="outline" class="full-width">
            <mat-label>Address</mat-label>
            <input matInput formControlName="address" placeholder="Ex. 123 Main St">
            <mat-error *ngIf="form.get('address')?.hasError('required')">Address is required</mat-error>
        </mat-form-field>

        <div class="row">
            <!-- Contact Number -->
            <mat-form-field appearance="outline">
                <mat-label>Contact Number</mat-label>
                <input matInput formControlName="contactNumber" placeholder="09123456789">
                <mat-error *ngIf="form.get('contactNumber')?.hasError('required')">Required</mat-error>
            </mat-form-field>

             <!-- Gender -->
             <mat-form-field appearance="outline">
                <mat-label>Gender</mat-label>
                <mat-select formControlName="gender">
                    <mat-option value="Male">Male</mat-option>
                    <mat-option value="Female">Female</mat-option>
                    <mat-option value="Other">Other</mat-option>
                </mat-select>
            </mat-form-field>
        </div>

        <div class="row">
             <!-- Birthday -->
             <mat-form-field appearance="outline">
                <mat-label>Birthday</mat-label>
                <input matInput [matDatepicker]="pickerBirthday" formControlName="birthday">
                <mat-datepicker-toggle matIconSuffix [for]="pickerBirthday"></mat-datepicker-toggle>
                <mat-datepicker #pickerBirthday></mat-datepicker>
                <mat-error *ngIf="form.get('birthday')?.hasError('required')">Required</mat-error>
            </mat-form-field>

            <!-- Expiration -->
            <mat-form-field appearance="outline">
                <mat-label>Expiration</mat-label>
                <input matInput [matDatepicker]="pickerExpiration" formControlName="expiration">
                <mat-datepicker-toggle matIconSuffix [for]="pickerExpiration"></mat-datepicker-toggle>
                <mat-datepicker #pickerExpiration></mat-datepicker>
            </mat-form-field>
        </div>

        <div class="row">
            <!-- Subscription -->
            <mat-form-field appearance="outline">
                <mat-label>Subscription</mat-label>
                <mat-select formControlName="subscription">
                    <mat-option value="Monthly">Monthly</mat-option>
                    <mat-option value="Quarterly">Quarterly</mat-option>
                    <mat-option value="Annually">Annually</mat-option>
                </mat-select>
            </mat-form-field>

             <!-- Status -->
             <mat-form-field appearance="outline">
                <mat-label>Membership Status</mat-label>
                <mat-select formControlName="membershipStatus">
                    <mat-option value="Active">Active</mat-option>
                    <mat-option value="Inactive">Inactive</mat-option>
                    <mat-option value="Pending">Pending</mat-option>
                </mat-select>
            </mat-form-field>
        </div>

        <!-- Goal -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Goal</mat-label>
          <textarea matInput formControlName="goal" rows="3" placeholder="Ex. Lose weight, build muscle"></textarea>
        </mat-form-field>

        <div class="actions">
          <button mat-button type="button" routerLink="/members">Cancel</button>
          <button mat-raised-button color="primary" type="submit" [disabled]="form.invalid || loading">
            <mat-spinner diameter="20" *ngIf="loading"></mat-spinner>
            <span *ngIf="!loading">{{ isEditMode ? 'Update' : 'Create' }}</span>
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>